# GitHub Pages Deployment Guide

## Overview

This guide explains how to deploy your Docusaurus documentation to GitHub Pages.

## Branch Strategy

- **`main` branch**: Your source code and documentation files (where you make changes)
- **`gh-pages` branch**: Automatically generated by Docusaurus (contains the built static site)

## Deployment Methods

### Method 1: Using `yarn deploy` (Recommended)

This is the simplest method. Docusaurus will automatically:
1. Build your site
2. Push the built files to the `gh-pages` branch

#### Steps:

1. **Make sure you're on the `main` branch:**
   ```bash
   git checkout main
   git pull origin main
   ```

2. **Make your changes and commit them:**
   ```bash
   git add .
   git commit -m "Your commit message"
   git push origin main
   ```

3. **Deploy to GitHub Pages:**
   ```bash
   yarn deploy
   ```

   This command will:
   - Build the site (creates the `build/` directory)
   - Create/update the `gh-pages` branch
   - Push the built files to GitHub

4. **Configure GitHub Pages in GitHub:**
   - Go to your repository: `https://github.com/lidakis/AeroEBT_Documentation`
   - Click **Settings** → **Pages**
   - Under **Source**, select:
     - **Branch**: `gh-pages`
     - **Folder**: `/ (root)`
   - Click **Save**

5. **Your site will be available at:**
   - `https://lidakis.github.io/AeroEBT_Documentation/` (if using default GitHub Pages URL)
   - Or your custom domain if configured

### Method 2: Using GitHub Actions (Automated)

For automatic deployment on every push to `main`, you can set up GitHub Actions.

#### Create GitHub Actions Workflow:

1. Create the directory structure:
   ```bash
   mkdir -p .github/workflows
   ```

2. Create `.github/workflows/deploy.yml`:
   ```yaml
   name: Deploy to GitHub Pages

   on:
     push:
       branches:
         - main
     workflow_dispatch:

   jobs:
     deploy:
       runs-on: ubuntu-latest
       steps:
         - uses: actions/checkout@v4
         
         - uses: actions/setup-node@v4
           with:
             node-version: 18
             cache: yarn
         
         - name: Install dependencies
           run: yarn install --frozen-lockfile
         
         - name: Build website
           run: yarn build
         
         - name: Deploy to GitHub Pages
           uses: peaceiris/actions-gh-pages@v3
           if: github.ref == 'refs/heads/main'
           with:
             github_token: ${{ secrets.GITHUB_TOKEN }}
             publish_dir: ./build
   ```

3. **Push to GitHub:**
   ```bash
   git add .github/workflows/deploy.yml
   git commit -m "Add GitHub Actions deployment workflow"
   git push origin main
   ```

4. **Enable GitHub Actions:**
   - Go to repository **Settings** → **Actions** → **General**
   - Under **Workflow permissions**, select: **Read and write permissions**
   - Click **Save**

5. **Configure GitHub Pages** (same as Method 1, step 4)

## Configuration Notes

### For Custom Domain (Current Setup)

Your `docusaurus.config.js` is configured for a custom domain:
```javascript
url: 'https://aeroebtdocs.skydynamics.aero',
baseUrl: '/',
```

This is correct if you're using a custom domain. Make sure:
1. Your DNS is configured to point to GitHub Pages
2. Add a `CNAME` file in the `static/` directory with your domain name

### For Default GitHub Pages URL

If you want to use the default GitHub Pages URL (`https://lidakis.github.io/AeroEBT_Documentation/`), update `docusaurus.config.js`:

```javascript
url: 'https://lidakis.github.io',
baseUrl: '/AeroEBT_Documentation/',
```

## Updating from Main to GitHub Pages

The workflow is simple:

1. **Work on `main` branch** - Make all your changes here
2. **Commit and push to `main`**:
   ```bash
   git add .
   git commit -m "Update documentation"
   git push origin main
   ```
3. **Deploy to GitHub Pages**:
   ```bash
   yarn deploy
   ```

That's it! The `yarn deploy` command handles everything:
- Builds the site
- Creates/updates the `gh-pages` branch
- Pushes to GitHub

## Troubleshooting

### Issue: `yarn deploy` fails with authentication error

**Solution**: Make sure you have:
- Git credentials configured
- Push access to the repository
- Or use a GitHub Personal Access Token

### Issue: Site shows 404 after deployment

**Solution**: 
- Check that GitHub Pages is configured to use `gh-pages` branch
- Verify the `baseUrl` in `docusaurus.config.js` matches your setup
- Wait a few minutes for GitHub Pages to update

### Issue: Changes not appearing

**Solution**:
- Clear browser cache
- Check the `gh-pages` branch exists and has content
- Verify GitHub Pages is enabled in repository settings

## Quick Reference

```bash
# Work on main branch
git checkout main
git pull origin main

# Make changes, then:
git add .
git commit -m "Your changes"
git push origin main

# Deploy to GitHub Pages
yarn deploy
```

## Additional Resources

- [Docusaurus Deployment Guide](https://docusaurus.io/docs/deployment)
- [GitHub Pages Documentation](https://docs.github.com/en/pages)



